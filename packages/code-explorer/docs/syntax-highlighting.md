# Syntax Highlighting

The Code Explorer renders source snippets with [CodeMirror](https://codemirror.net/).
It loads lightweight language extensions for supported files and falls back to
plain text when a mode is unavailable.

## `highlightCode` utility

- **Location:** `src/utils/highlight.ts`
- Exports `highlightCode(code, language)` which produces the HTML generated by
  CodeMirror's highlighter.
- If the requested language package fails to load or isn't registered, the
  function returns the original code string so the viewer displays unstyled
  text instead of crashing.

## Adding a new language

1. Install the matching `@codemirror/lang-<language>` package.
2. Import the extension in `src/utils/highlight.ts`, for example:

   ```ts
   import { python } from "@codemirror/lang-python";
   ```

3. Map the language key to the extension and pass that key when calling
   `highlightCode`:

   ```ts
   highlightCode(source, "python");
   ```

When no language extension is available, `highlightCode` returns the raw code so
the component renders plain text.

## Future extensibility

- Lazyâ€‘load language modules to keep bundle size small.
- Add automatic language detection based on file extension.
- Swap in alternative highlighters if CodeMirror becomes a bottleneck.

