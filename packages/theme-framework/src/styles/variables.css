/* Enhanced CSS Variables for Theme Framework */
@import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&family=JetBrains+Mono:wght@300;400;500;600;700&display=swap');

/* Base variables - will be overridden by theme JavaScript */
:root {
  /* Core colors - dynamically set by ThemeProvider */
  --background: hsl(218, 87%, 9%);
  --foreground: hsl(0, 0%, 100%);
  --card: hsl(235, 30%, 22%);
  --card-foreground: hsl(0, 0%, 100%);
  --popover: hsl(218, 87%, 9%);
  --popover-foreground: hsl(0, 0%, 100%);
  --primary: hsl(218, 87%, 9%);
  --primary-foreground: hsl(0, 0%, 100%);
  --secondary: hsl(235, 35%, 16%);
  --secondary-foreground: hsl(0, 0%, 100%);
  --muted: hsl(226, 19%, 43%);
  --muted-foreground: hsl(0, 0%, 85%);
  --accent: hsl(168, 100%, 42%);
  --accent-foreground: hsl(0, 0%, 0%);
  --accent-blue: hsl(198, 100%, 40%);
  --destructive: hsl(0, 84%, 60%);
  --destructive-foreground: hsl(0, 0%, 98%);
  --border: hsl(226, 19%, 43%);
  --input: hsl(235, 30%, 22%);
  --ring: hsl(168, 100%, 42%);
  
  /* Sidebar colors */
  --sidebar: hsl(235, 30%, 22%);
  --sidebar-foreground: hsl(0, 0%, 100%);
  --sidebar-primary: hsl(168, 100%, 42%);
  --sidebar-primary-foreground: hsl(0, 0%, 0%);
  --sidebar-accent: hsl(235, 35%, 16%);
  --sidebar-accent-foreground: hsl(168, 100%, 42%);
  --sidebar-border: hsl(226, 19%, 43%);
  --sidebar-ring: hsl(168, 100%, 42%);

  /* Chart colors */
  --chart-1: hsl(168, 100%, 42%);
  --chart-2: hsl(198, 100%, 40%);
  --chart-3: hsl(42, 92%, 56%);
  --chart-4: hsl(147, 78%, 42%);
  --chart-5: hsl(341, 75%, 51%);

  /* Typography */
  --font-sans: 'Inter', system-ui, sans-serif;
  --font-serif: Georgia, serif;
  --font-mono: 'JetBrains Mono', monospace;
  
  /* Spacing and sizing */
  --radius: 0.75rem;
  
  /* Enhanced theme variables - set by ThemeProvider */
  --gradient-primary: linear-gradient(135deg, hsl(235, 30%, 22%) 0%, hsl(235, 35%, 16%) 100%);
  --gradient-secondary: linear-gradient(135deg, hsl(226, 19%, 43%) 0%, hsl(235, 35%, 16%) 100%);
  --gradient-accent: linear-gradient(135deg, hsl(168, 100%, 42%) 0%, hsl(198, 100%, 40%) 100%);
  
  /* Effects */
  --effect-glow: 0 0 20px hsla(168, 100%, 42%, 0.4);
  --effect-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.3), 0 4px 6px -2px rgba(0, 0, 0, 0.2);
  --effect-blur: blur(12px);
  
  /* Animation durations */
  --duration-fast: 150ms;
  --duration-normal: 300ms;
  --duration-slow: 500ms;
  
  /* Easing functions */
  --ease-in: cubic-bezier(0.4, 0, 1, 1);
  --ease-out: cubic-bezier(0, 0, 0.2, 1);
  --ease-in-out: cubic-bezier(0.4, 0, 0.2, 1);
}

/* Theme-specific classes that will be applied by ThemeProvider */

/* Light theme enhancements */
.light {
  /* Light theme specific variables will be applied via JavaScript */
  color-scheme: light;
}

/* Dark theme enhancements */
.dark {
  /* Dark theme specific variables will be applied via JavaScript */
  color-scheme: dark;
}

/* FU theme enhancements */
.fu {
  /* FU theme specific variables will be applied via JavaScript */
  color-scheme: dark;
  
  /* FU-specific animations */
  --glow-animation: glow-pulse 2s ease-in-out infinite alternate;
  --text-shadow-neon: 0 0 10px currentColor, 0 0 20px currentColor, 0 0 40px currentColor;
}

/* Base layer styles */
@layer base {
  * {
    @apply border-border;
  }

  body {
    @apply font-sans antialiased bg-background text-foreground;
    transition: background-color var(--duration-normal) var(--ease-in-out),
                color var(--duration-normal) var(--ease-in-out);
  }

  html, body {
    overflow-x: hidden;
  }
}

/* Component layer styles */
@layer components {
  /* Theme-aware gradient backgrounds */
  .bg-gradient-primary {
    background: var(--gradient-primary);
  }
  
  .bg-gradient-secondary {
    background: var(--gradient-secondary);
  }
  
  .bg-gradient-accent {
    background: var(--gradient-accent);
  }
  
  /* Theme-aware effects */
  .effect-glow {
    box-shadow: var(--effect-glow);
  }
  
  .effect-shadow {
    box-shadow: var(--effect-shadow);
  }
  
  .effect-blur {
    backdrop-filter: var(--effect-blur);
  }
  
  /* Theme transitions */
  .theme-transition {
    transition: all var(--duration-normal) var(--ease-in-out);
  }
  
  /* FU theme specific effects */
  .fu .neon-text {
    text-shadow: var(--text-shadow-neon);
    animation: var(--glow-animation);
  }
  
  .fu .neon-border {
    border: 1px solid;
    border-image: var(--gradient-accent) 1;
    box-shadow: var(--effect-glow);
  }
  
  .fu .neon-button {
    background: var(--gradient-accent);
    box-shadow: var(--effect-glow);
    border: 1px solid transparent;
    position: relative;
    overflow: hidden;
  }
  
  .fu .neon-button::before {
    content: '';
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
    transition: left var(--duration-slow) var(--ease-in-out);
  }
  
  .fu .neon-button:hover::before {
    left: 100%;
  }
}

/* Utility layer styles */
@layer utilities {
  /* Legacy support utilities */
  .bg-primary-dark {
    background-color: var(--primary);
  }
  
  .bg-secondary-dark {
    background-color: var(--secondary);
  }
  
  .bg-accent-teal {
    background-color: var(--accent);
  }
  
  .bg-accent-blue {
    background-color: var(--accent-blue);
  }
  
  .text-accent-teal {
    color: var(--accent);
  }
  
  .text-accent-blue {
    color: var(--accent-blue);
  }
  
  .border-accent-teal {
    border-color: var(--accent);
  }

  /* Enhanced toggle switches for dev panel */
  .dev-switch {
    background-color: var(--secondary) !important;
    border: 2px solid var(--border) !important;
    box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.2) !important;
    transition: all var(--duration-normal) var(--ease-in-out) !important;
  }

  .dev-switch[data-state="checked"] {
    background-color: var(--accent) !important;
    border-color: var(--accent) !important;
    box-shadow: var(--effect-glow), inset 0 1px 2px rgba(0, 0, 0, 0.1) !important;
  }

  .dev-switch > * {
    background-color: var(--background) !important;
    border: 1px solid var(--border) !important;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.15) !important;
    transition: all var(--duration-normal) var(--ease-in-out) !important;
  }

  .dev-switch[data-state="checked"] > * {
    border-color: var(--background) !important;
    box-shadow: 0 3px 6px rgba(0, 0, 0, 0.2) !important;
  }

  /* Hover effects for better visibility */
  .dev-switch:hover:not([data-state="checked"]) {
    border-color: var(--accent) !important;
    box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.2), var(--effect-glow) !important;
  }

  .dev-switch:hover[data-state="checked"] {
    box-shadow: var(--effect-glow), inset 0 1px 2px rgba(0, 0, 0, 0.1) !important;
  }

  /* Add a subtle glow animation for the active state */
  .dev-switch[data-state="checked"] {
    animation: subtle-glow var(--duration-slow) ease-in-out infinite alternate;
  }
}

/* Animations */
@keyframes subtle-glow {
  from {
    box-shadow: 0 0 8px hsla(168, 100%, 42%, 0.3), inset 0 1px 2px rgba(0, 0, 0, 0.1);
  }
  to {
    box-shadow: 0 0 12px hsla(168, 100%, 42%, 0.4), inset 0 1px 2px rgba(0, 0, 0, 0.1);
  }
}

@keyframes glow-pulse {
  from {
    text-shadow: 0 0 5px currentColor, 0 0 10px currentColor, 0 0 20px currentColor;
  }
  to {
    text-shadow: 0 0 10px currentColor, 0 0 20px currentColor, 0 0 40px currentColor;
  }
}

/* Smooth theme transitions */
* {
  transition-property: background-color, border-color, color, fill, stroke, box-shadow;
  transition-timing-function: var(--ease-in-out);
  transition-duration: var(--duration-fast);
}

/* Prevent transition on theme change */
.theme-changing * {
  transition: none !important;
}